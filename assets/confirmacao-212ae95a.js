import{v as s,a as c}from"./vc-header-b67ae842.js";/* empty css                  */import{S as a}from"./sweetalert2.all-39c9ca13.js";document.querySelector("#vc-footer").innerHTML=s;document.querySelector("#vc-header").innerHTML=c;let r,d=1;window.go=o=>{o==="s"?(localStorage.setItem("go","s"),document.querySelector("#message-not-going").classList.add("-hide"),document.querySelector("#input-not-going").classList.add("-hide"),document.querySelector("#message-going").classList.remove("-hide")):(document.querySelector("#message-going").classList.add("-hide"),document.querySelector("#message-not-going").classList.remove("-hide"),document.querySelector("#input-not-going").classList.remove("-hide"),localStorage.setItem("go","n")),document.querySelector("#step-1").classList.add("-hide"),document.querySelector("#step-2").classList.remove("-hide")};window.submitForm=()=>{a.fire({title:localStorage.getItem("go")==="s"?"Confirmar presença":"Enviar nomes",html:`
            <b style="font-weight: 900;">Você confirma que todos esses convidados ${localStorage.getItem("go")==="n"?"NÃO":""}  estarão presentes no dia 25/02/2024?</b>
            <br><br>
            Por favor confire os nomes inseridos, pois ao enviar, você não poderá editar.
        `,icon:"",cancelButtonText:"Voltar",showCancelButton:!0,reverseButtons:!0,confirmButtonText:"Confirmo!",confirmButtonColor:"var(--color-primary)"}).then(o=>{if(o.isConfirmed){const t=document.querySelectorAll(".-convidado-input");let n=[];if(t.forEach(e=>{e.value&&n.push(e.value)}),!n.length){a.fire({title:"Ops!",text:"Por favor preencha com pelo menos 1 nome de convidado",icon:"error",confirmButtonText:"Fechar",confirmButtonColor:"var(--color-primary)"});return}let i=JSON.stringify({date:new Date,participants:n,go:!!localStorage.getItem("go","s"),message:document.querySelector("#input-not-going").value||""});fetch("https://64833921f2e76ae1b95c2935.mockapi.io/api/confirmation1",{method:"POST",headers:{"Content-Type":"application/json"},body:i}).then(e=>{e.status===400?fetch("https://64833921f2e76ae1b95c2935.mockapi.io/api/confirmation2",{method:"POST",headers:{"Content-Type":"application/json"},body:i}).then(()=>window.afterConfirmationFetch()):e.ok?window.afterConfirmationFetch():a.fire({title:"Ops!",text:"Algo deu errado nos nossos serviços... Por favor contatar um dos noivos",icon:"error",confirmButtonText:"Fechar",confirmButtonColor:"var(--color-primary)"})})}})};window.afterConfirmationFetch=()=>{window.location.href="https://vitortakara.github.io/vc-casaments/pages/confirmacao-confirmado/",localStorage.setItem("formHasAlreadySubmited",!0)};window.removeConvidadoInput=()=>document.querySelector("#add-convidado-btn").remove();window.convidadoInputHandler=()=>{r===1&&removeConvidadoInput(),r--,d++,addConvidadoInput()};window.addConvidadoInput=()=>{let o=document.createElement("input");o.placeholder=`Nome do convidado ${d}`,o.classList.add("vc-input"),o.classList.add("-convidado-input"),document.querySelector("#convidados-inputs").appendChild(o)};window.buildInputsFromUrlParams=()=>{JSON.parse(localStorage.getItem("formHasAlreadySubmited"))&&(document.querySelector("#form").classList.add("-hide"),document.querySelector("#confirmed").classList.remove("-hide"));const t=new URL(location.href).searchParams.get("p");if(!t){removeConvidadoInput();return}addConvidadoInput(),r=atob(atob(atob(t)))-1,r||removeConvidadoInput()};buildInputsFromUrlParams();
